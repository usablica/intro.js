(function(e,t){if(typeof exports==="object"){t(exports)}else if(typeof define==="function"&&define.amd){define(["exports"],t)}else{t(e)}})(this,function(e){function n(e){this._targetElement=e;this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",exitOnEsc:true,exitOnOverlayClick:true,showStepNumbers:true,keyboardNavigation:true,showButtons:true,showBullets:true,scrollToElement:true,overlayOpacity:.8}}function r(e){var t=[],n=this;if(this._options.steps){var r=[];for(var s=0,f=this._options.steps.length;s<f;s++){var c=i(this._options.steps[s]);c.step=t.length+1;if(typeof c.element==="string"){c.element=document.querySelector(c.element)}if(typeof c.element==="undefined"||c.element==null){var h=document.querySelector(".introjsFloatingElement");if(h==null){h=document.createElement("div");h.className="introjsFloatingElement";document.body.appendChild(h)}c.element=h;c.position="floating"}if(c.element!=null){t.push(c)}}}else{var r=e.querySelectorAll("*[data-intro]");if(r.length<1){return false}for(var s=0,p=r.length;s<p;s++){var d=r[s];var m=parseInt(d.getAttribute("data-step"),10);if(m>0){t[m-1]={element:d,intro:d.getAttribute("data-intro"),step:parseInt(d.getAttribute("data-step"),10),tooltipClass:d.getAttribute("data-tooltipClass"),position:d.getAttribute("data-position")||this._options.tooltipPosition}}}var g=0;for(var s=0,p=r.length;s<p;s++){var d=r[s];if(d.getAttribute("data-step")==null){while(true){if(typeof t[g]=="undefined"){break}else{g++}}t[g]={element:d,intro:d.getAttribute("data-intro"),step:g+1,tooltipClass:d.getAttribute("data-tooltipClass"),position:d.getAttribute("data-position")||this._options.tooltipPosition}}}}var y=[];for(var b=0;b<t.length;b++){t[b]&&y.push(t[b])}t=y;t.sort(function(e,t){return e.step-t.step});n._introItems=t;if(v.call(n,e)){o.call(n);var w=e.querySelector(".introjs-skipbutton"),E=e.querySelector(".introjs-nextbutton");n._onKeyDown=function(t){if(t.keyCode===27&&n._options.exitOnEsc==true){a.call(n,e);if(n._introExitCallback!=undefined){n._introExitCallback.call(n)}}else if(t.keyCode===37){u.call(n)}else if(t.keyCode===39||t.keyCode===13){o.call(n);if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}}};n._onResize=function(e){l.call(n,document.querySelector(".introjs-helperLayer"))};if(window.addEventListener){if(this._options.keyboardNavigation){window.addEventListener("keydown",n._onKeyDown,true)}window.addEventListener("resize",n._onResize,true)}else if(document.attachEvent){if(this._options.keyboardNavigation){document.attachEvent("onkeydown",n._onKeyDown)}document.attachEvent("onresize",n._onResize)}}return false}function i(e){if(e==null||typeof e!="object"||typeof e.nodeType!="undefined"){return e}var t={};for(var n in e){t[n]=i(e[n])}return t}function s(e){this._currentStep=e-2;if(typeof this._introItems!=="undefined"){o.call(this)}}function o(){this._direction="forward";if(typeof this._currentStep==="undefined"){this._currentStep=0}else{++this._currentStep}if(this._introItems.length<=this._currentStep){if(typeof this._introCompleteCallback==="function"){this._introCompleteCallback.call(this)}a.call(this,this._targetElement);return}var e=this._introItems[this._currentStep];if(typeof this._introBeforeChangeCallback!=="undefined"){this._introBeforeChangeCallback.call(this,e.element)}c.call(this,e)}function u(){this._direction="backward";if(this._currentStep===0){return false}var e=this._introItems[--this._currentStep];if(typeof this._introBeforeChangeCallback!=="undefined"){this._introBeforeChangeCallback.call(this,e.element)}c.call(this,e)}function a(e){var t=e.querySelector(".introjs-overlay");if(t==null){return}t.style.opacity=0;setTimeout(function(){if(t.parentNode){t.parentNode.removeChild(t)}},500);var n=e.querySelector(".introjs-helperLayer");if(n){n.parentNode.removeChild(n)}var r=document.querySelector(".introjsFloatingElement");if(r){r.parentNode.removeChild(r)}if(window.removeEventListener){window.removeEventListener("keydown",this._onKeyDown,true)}else if(document.detachEvent){document.detachEvent("onkeydown",this._onKeyDown)}this._currentStep=undefined}function f(e,t,n,r){var i="",s,o,u;t.style.top=null;t.style.right=null;t.style.bottom=null;t.style.left=null;t.style.marginLeft=null;t.style.marginTop=null;n.style.display="inherit";if(typeof r!="undefined"&&r!=null){r.style.top=null;r.style.left=null}if(!this._introItems[this._currentStep])return;s=this._introItems[this._currentStep];if(typeof s.tooltipClass==="string"){i=s.tooltipClass}else{i=this._options.tooltipClass}t.className=("introjs-tooltip "+i).replace(/^\s+|\s+$/g,"");var i=this._options.tooltipClass;currentTooltipPosition=this._introItems[this._currentStep].position;switch(currentTooltipPosition){case"top":t.style.left="15px";t.style.top="-"+(m(t).height+10)+"px";n.className="introjs-arrow bottom";break;case"right":t.style.left=m(e).width+20+"px";n.className="introjs-arrow left";break;case"left":if(this._options.showStepNumbers==true){t.style.top="15px"}t.style.right=m(e).width+20+"px";n.className="introjs-arrow right";break;case"floating":n.style.display="none";o=m(t);t.style.left="50%";t.style.top="50%";t.style.marginLeft="-"+o.width/2+"px";t.style.marginTop="-"+o.height/2+"px";if(typeof r!="undefined"&&r!=null){r.style.left="-"+(o.width/2+18)+"px";r.style.top="-"+(o.height/2+18)+"px"}break;case"bottom-right-aligned":n.className="introjs-arrow top-right";t.style.right="0px";t.style.bottom="-"+(m(t).height+10)+"px";break;case"bottom-middle-aligned":u=m(e);o=m(t);n.className="introjs-arrow top-middle";t.style.left=u.width/2-o.width/2+"px";t.style.bottom="-"+(o.height+10)+"px";break;case"bottom-left-aligned":case"bottom":default:t.style.bottom="-"+(m(t).height+10)+"px";n.className="introjs-arrow top";break}}function l(e){if(e){if(!this._introItems[this._currentStep])return;var t=this._introItems[this._currentStep],n=m(t.element);e.setAttribute("style","width: "+n.width+"px; "+"height:"+n.height+"px; "+"top:"+n.top+"px;"+"left: "+n.left+"px;")}}function c(e){if(typeof this._introChangeCallback!=="undefined"){this._introChangeCallback.call(this,e.element)}var t=this,n=document.querySelector(".introjs-helperLayer"),r=m(e.element);if(n!=null){var i=n.querySelector(".introjs-helperNumberLayer"),s=n.querySelector(".introjs-tooltiptext"),c=n.querySelector(".introjs-arrow"),v=n.querySelector(".introjs-tooltip"),g=n.querySelector(".introjs-skipbutton"),y=n.querySelector(".introjs-prevbutton"),b=n.querySelector(".introjs-nextbutton");v.style.opacity=0;if(i!=null){var w=this._introItems[e.step-2>=0?e.step-2:0];if(w!=null&&this._direction=="forward"&&w.position=="floating"||this._direction=="backward"&&e.position=="floating"){i.style.opacity=0}}l.call(t,n);if(t._lastShowElementTimer){clearTimeout(t._lastShowElementTimer)}t._lastShowElementTimer=setTimeout(function(){if(i!=null){i.innerHTML=e.step}s.innerHTML=e.intro;f.call(t,e.element,v,c,i);n.querySelector(".introjs-bullets li > a.active").className="";n.querySelector('.introjs-bullets li > a[data-stepnumber="'+e.step+'"]').className="active";v.style.opacity=1;if(i)i.style.opacity=1},350)}else{var E=document.createElement("div"),S=document.createElement("div"),x=document.createElement("div"),T=document.createElement("div"),N=document.createElement("div"),C=document.createElement("div");E.className="introjs-helperLayer";l.call(t,E);this._targetElement.appendChild(E);S.className="introjs-arrow";T.className="introjs-tooltiptext";T.innerHTML=e.intro;N.className="introjs-bullets";if(this._options.showBullets===false){N.style.display="none"}var k=document.createElement("ul");for(var L=0,A=this._introItems.length;L<A;L++){var O=document.createElement("li");var M=document.createElement("a");M.onclick=function(){t.goToStep(this.getAttribute("data-stepnumber"))};if(L===e.step-1)M.className="active";M.href="javascript:void(0);";M.innerHTML="&nbsp;";M.setAttribute("data-stepnumber",this._introItems[L].step);O.appendChild(M);k.appendChild(O)}N.appendChild(k);C.className="introjs-tooltipbuttons";if(this._options.showButtons===false){C.style.display="none"}x.className="introjs-tooltip";x.appendChild(T);x.appendChild(N);if(this._options.showStepNumbers==true){var _=document.createElement("span");_.className="introjs-helperNumberLayer";_.innerHTML=e.step;E.appendChild(_)}x.appendChild(S);E.appendChild(x);var b=document.createElement("a");b.onclick=function(){if(t._introItems.length-1!=t._currentStep){o.call(t)}};b.href="javascript:void(0);";b.innerHTML=this._options.nextLabel;var y=document.createElement("a");y.onclick=function(){if(t._currentStep!=0){u.call(t)}};y.href="javascript:void(0);";y.innerHTML=this._options.prevLabel;var g=document.createElement("a");g.className="introjs-button introjs-skipbutton";g.href="javascript:void(0);";g.innerHTML=this._options.skipLabel;g.onclick=function(){if(t._introItems.length-1==t._currentStep&&typeof t._introCompleteCallback==="function"){t._introCompleteCallback.call(t)}if(t._introItems.length-1!=t._currentStep&&typeof t._introExitCallback==="function"){t._introExitCallback.call(t)}a.call(t,t._targetElement)};C.appendChild(g);if(this._introItems.length>1){C.appendChild(y);C.appendChild(b)}x.appendChild(C);f.call(t,e.element,x,S,_)}if(this._currentStep==0&&this._introItems.length>1){y.className="introjs-button introjs-prevbutton introjs-disabled";b.className="introjs-button introjs-nextbutton";g.innerHTML=this._options.skipLabel}else if(this._introItems.length-1==this._currentStep||this._introItems.length==1){g.innerHTML=this._options.doneLabel;y.className="introjs-button introjs-prevbutton";b.className="introjs-button introjs-nextbutton introjs-disabled"}else{y.className="introjs-button introjs-prevbutton";b.className="introjs-button introjs-nextbutton";g.innerHTML=this._options.skipLabel}b.focus();var D=e.element.parentNode,P=false;while(D!=null){if(D.tagName.toLowerCase()==="body")break;var H=h(D,"z-index");var B=parseFloat(h(D,"opacity"));if(/[0-9]+/.test(H)||B<1){P=true}D=D.parentNode}if(P){(E||n).className=(E||n).className+" introjs-helperLayer-fixed"}if(!d(e.element)&&this._options.scrollToElement===true){var j=e.element.getBoundingClientRect(),F=p().height,I=j.bottom-(j.bottom-j.top),q=j.bottom-F;if(I<0||e.element.clientHeight>F){window.scrollBy(0,I-30)}else{window.scrollBy(0,q+100)}}if(typeof this._introAfterChangeCallback!=="undefined"){this._introAfterChangeCallback.call(this,e.element)}}function h(e,t){var n="";if(e.currentStyle){n=e.currentStyle[t]}else if(document.defaultView&&document.defaultView.getComputedStyle){n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}if(n&&n.toLowerCase){return n.toLowerCase()}else{return n}}function p(){if(window.innerWidth!=undefined){return{width:window.innerWidth,height:window.innerHeight}}else{var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}}function d(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom+80<=window.innerHeight&&t.right<=window.innerWidth}function v(e){var t=document.createElement("div"),n="",r=this;t.className="introjs-overlay";if(e.tagName.toLowerCase()==="body"){n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;";t.setAttribute("style",n)}else{var i=m(e);if(i){n+="width: "+i.width+"px; height:"+i.height+"px; top:"+i.top+"px;left: "+i.left+"px;";t.setAttribute("style",n)}}e.appendChild(t);t.onclick=function(){if(r._options.exitOnOverlayClick==true){a.call(r,e);if(r._introExitCallback!=undefined){r._introExitCallback.call(r)}}};setTimeout(function(){n+="opacity: "+r._options.overlayOpacity.toString()+";";t.setAttribute("style",n)},10);return true}function m(e){var t={};t.width=e.offsetWidth;t.height=e.offsetHeight;var n=0;var r=0;while(e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop)){n+=e.offsetLeft;r+=e.offsetTop;e=e.offsetParent}t.top=r;t.left=n;return t}function g(e,t){var n={};for(var r in e){n[r]=e[r]}for(var r in t){n[r]=t[r]}return n}var t="0.9.0";var y=function(e){if(typeof e==="object"){return new n(e)}else if(typeof e==="string"){var t=document.querySelector(e);if(t){return new n(t)}else{throw new Error("There is no element with given selector.")}}else{return new n(document.body)}};y.version=t;y.fn=n.prototype={clone:function(){return new n(this)},setOption:function(e,t){this._options[e]=t;return this},setOptions:function(e){this._options=g(this._options,e);return this},start:function(){r.call(this,this._targetElement);return this},goToStep:function(e){s.call(this,e);return this},nextStep:function(){o.call(this);return this},previousStep:function(){u.call(this);return this},exit:function(){a.call(this,this._targetElement)},refresh:function(){l.call(this,document.querySelector(".introjs-helperLayer"));return this},onbeforechange:function(e){if(typeof e==="function"){this._introBeforeChangeCallback=e}else{throw new Error("Provided callback for onbeforechange was not a function")}return this},onchange:function(e){if(typeof e==="function"){this._introChangeCallback=e}else{throw new Error("Provided callback for onchange was not a function.")}return this},onafterchange:function(e){if(typeof e==="function"){this._introAfterChangeCallback=e}else{throw new Error("Provided callback for onafterchange was not a function")}return this},oncomplete:function(e){if(typeof e==="function"){this._introCompleteCallback=e}else{throw new Error("Provided callback for oncomplete was not a function.")}return this},onexit:function(e){if(typeof e==="function"){this._introExitCallback=e}else{throw new Error("Provided callback for onexit was not a function.")}return this}};e.introJs=y;return y})